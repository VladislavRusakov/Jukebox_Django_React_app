{"ast":null,"code":"import React from'react';import YouTube from'react-youtube';import{jsx as _jsx}from\"react/jsx-runtime\";function Player(_ref){let{state}=_ref;const[videoId,setVideoId]=React.useState('');React.useEffect(()=>{const playedRecord=state.find(record=>record.isPlayed);if(playedRecord){const videoUrl=playedRecord.youtubeUrl;const regex=/(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&]+)/;const match=videoUrl.match(regex);const newVideoId=match?match[1]:null;setVideoId(newVideoId);}},[state]);const opts={height:'200',width:'350',playerVars:{autoplay:1}};return/*#__PURE__*/_jsx(\"div\",{className:\"youtube--player--container\",id:\"player\",children:videoId&&/*#__PURE__*/_jsx(YouTube,{className:\"\",videoId:videoId,opts:opts,onReady:onPlayerReady,onStateChange:onPlayerStateChange})});function onPlayerReady(event){console.log('Player ready');}function onPlayerStateChange(event){console.log('Player state change',event.data);}}export default Player;","map":{"version":3,"names":["React","YouTube","jsx","_jsx","Player","_ref","state","videoId","setVideoId","useState","useEffect","playedRecord","find","record","isPlayed","videoUrl","youtubeUrl","regex","match","newVideoId","opts","height","width","playerVars","autoplay","className","id","children","onReady","onPlayerReady","onStateChange","onPlayerStateChange","event","console","log","data"],"sources":["E:/work/Jukebox/local_react_frontend/src/components/Player.js"],"sourcesContent":["import React from 'react';\r\nimport YouTube from 'react-youtube';\r\n\r\n\r\nfunction Player({ state }) {\r\n    const [videoId, setVideoId] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        const playedRecord = state.find(record => record.isPlayed);\r\n        if (playedRecord) {\r\n            const videoUrl = playedRecord.youtubeUrl;\r\n            const regex = /(?:https?:\\/\\/)?(?:www\\.)?(?:youtube\\.com\\/watch\\?v=|youtu\\.be\\/)([^&]+)/;\r\n            const match = videoUrl.match(regex);\r\n            const newVideoId = match ? match[1] : null;\r\n            setVideoId(newVideoId);\r\n        }\r\n    }, [state]);\r\n\r\n    const opts = {\r\n        height: '200',\r\n        width: '350',\r\n        playerVars: {\r\n            autoplay: 1,\r\n        },\r\n    };\r\n\r\n    return (\r\n        <div className=\"youtube--player--container\" id=\"player\">\r\n            {videoId && (\r\n                <YouTube className=\"\" videoId={videoId} opts={opts} onReady={onPlayerReady} onStateChange={onPlayerStateChange} />\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    function onPlayerReady(event) {\r\n        console.log('Player ready');\r\n    }\r\n\r\n    function onPlayerStateChange(event) {\r\n        console.log('Player state change', event.data);\r\n    }\r\n}\r\n\r\nexport default Player;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,OAAO,KAAM,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGpC,QAAS,CAAAC,MAAMA,CAAAC,IAAA,CAAY,IAAX,CAAEC,KAAM,CAAC,CAAAD,IAAA,CACrB,KAAM,CAACE,OAAO,CAAEC,UAAU,CAAC,CAAGR,KAAK,CAACS,QAAQ,CAAC,EAAE,CAAC,CAEhDT,KAAK,CAACU,SAAS,CAAC,IAAM,CAClB,KAAM,CAAAC,YAAY,CAAGL,KAAK,CAACM,IAAI,CAACC,MAAM,EAAIA,MAAM,CAACC,QAAQ,CAAC,CAC1D,GAAIH,YAAY,CAAE,CACd,KAAM,CAAAI,QAAQ,CAAGJ,YAAY,CAACK,UAAU,CACxC,KAAM,CAAAC,KAAK,CAAG,0EAA0E,CACxF,KAAM,CAAAC,KAAK,CAAGH,QAAQ,CAACG,KAAK,CAACD,KAAK,CAAC,CACnC,KAAM,CAAAE,UAAU,CAAGD,KAAK,CAAGA,KAAK,CAAC,CAAC,CAAC,CAAG,IAAI,CAC1CV,UAAU,CAACW,UAAU,CAAC,CAC1B,CACJ,CAAC,CAAE,CAACb,KAAK,CAAC,CAAC,CAEX,KAAM,CAAAc,IAAI,CAAG,CACTC,MAAM,CAAE,KAAK,CACbC,KAAK,CAAE,KAAK,CACZC,UAAU,CAAE,CACRC,QAAQ,CAAE,CACd,CACJ,CAAC,CAED,mBACIrB,IAAA,QAAKsB,SAAS,CAAC,4BAA4B,CAACC,EAAE,CAAC,QAAQ,CAAAC,QAAA,CAClDpB,OAAO,eACJJ,IAAA,CAACF,OAAO,EAACwB,SAAS,CAAC,EAAE,CAAClB,OAAO,CAAEA,OAAQ,CAACa,IAAI,CAAEA,IAAK,CAACQ,OAAO,CAAEC,aAAc,CAACC,aAAa,CAAEC,mBAAoB,CAAE,CACpH,CACA,CAAC,CAGV,QAAS,CAAAF,aAAaA,CAACG,KAAK,CAAE,CAC1BC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC,CAC/B,CAEA,QAAS,CAAAH,mBAAmBA,CAACC,KAAK,CAAE,CAChCC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAEF,KAAK,CAACG,IAAI,CAAC,CAClD,CACJ,CAEA,cAAe,CAAA/B,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}