{"ast":null,"code":"import React from'react';import Navbar from'./components/Navbar';import Shelf from'./components/Shelf';import Filter from'./components/Filter';import Jukebox from'./components/Jukebox';import Player from'./components/Player';import SocialFooter from'./components/SocialFooter';import local_data from'./data.js';import'./index.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[mainData,setMainData]=React.useState(local_data);const inputRef=React.useRef(null);const playerRef=React.useRef(null);const[isPlaying,setIsPlaying]=React.useState(true);const defaultVolume=15;const[volume,setVolume]=React.useState(defaultVolume);const[currentTime,setCurrentTime]=React.useState(0);const[duration,setDuration]=React.useState(0);React.useEffect(()=>{fetch('http://localhost:8000').then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>{setMainData(data);}).catch(error=>{console.error('There was a problem with the fetch operation:',error);});},[]);React.useEffect(()=>{const handleClick=()=>{if(inputRef.current){inputRef.current.focus();}};document.addEventListener('click',handleClick);return()=>{document.removeEventListener('click',handleClick);};},[]);function handleClick(id){setMainData(prevmainData=>{return prevmainData.map(Record=>{return Record.id===id?{...Record,isPlayed:true}:{...Record,isPlayed:false};});});}function handleSearchChange(searchString){setMainData(prevmainData=>{if(!searchString){return prevmainData.slice().sort((a,b)=>a.id-b.id);}else{return prevmainData.slice().sort((a,b)=>{const aIncludes=a.artist.toLowerCase().includes(searchString.toLowerCase());const bIncludes=b.artist.toLowerCase().includes(searchString.toLowerCase());if(aIncludes&&!bIncludes)return-1;if(!aIncludes&&bIncludes)return 1;return 0;});}});}const onPlay=()=>{if(playerRef.current){playerRef.current.playVideo();setIsPlaying(true);}};const onPause=()=>{if(playerRef.current){playerRef.current.pauseVideo();setIsPlaying(false);}};const handleVolumeChange=value=>{if(playerRef.current){playerRef.current.setVolume(value);setVolume(value);}};const handleSeek=time=>{if(playerRef.current){playerRef.current.seekTo(time);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{onPlay:onPlay,onPause:onPause,onVolumeChange:handleVolumeChange,isPlaying:isPlaying,volume:volume,currentTime:currentTime,duration:duration,onSeek:handleSeek}),/*#__PURE__*/_jsx(Shelf,{mainData:mainData,handleClick:handleClick}),/*#__PURE__*/_jsx(Filter,{onSearchChange:handleSearchChange,inputRef:inputRef}),/*#__PURE__*/_jsx(Player,{mainData:mainData,onPlayerReadyRef:playerRef,setVolume:setVolume,setIsPlaying:setIsPlaying,setCurrentTime:setCurrentTime,setDuration:setDuration}),/*#__PURE__*/_jsx(Jukebox,{mainData:mainData}),/*#__PURE__*/_jsx(SocialFooter,{})]});}export default App;","map":{"version":3,"names":["React","Navbar","Shelf","Filter","Jukebox","Player","SocialFooter","local_data","jsx","_jsx","jsxs","_jsxs","App","mainData","setMainData","useState","inputRef","useRef","playerRef","isPlaying","setIsPlaying","defaultVolume","volume","setVolume","currentTime","setCurrentTime","duration","setDuration","useEffect","fetch","then","response","ok","Error","json","data","catch","error","console","handleClick","current","focus","document","addEventListener","removeEventListener","id","prevmainData","map","Record","isPlayed","handleSearchChange","searchString","slice","sort","a","b","aIncludes","artist","toLowerCase","includes","bIncludes","onPlay","playVideo","onPause","pauseVideo","handleVolumeChange","value","handleSeek","time","seekTo","children","onVolumeChange","onSeek","onSearchChange","onPlayerReadyRef"],"sources":["E:/work/Jukebox/local_react_frontend/src/App.js"],"sourcesContent":["import React from 'react';\n\nimport Navbar from './components/Navbar';\nimport Shelf from './components/Shelf';\nimport Filter from './components/Filter';\nimport Jukebox from './components/Jukebox';\nimport Player from './components/Player';\nimport SocialFooter from './components/SocialFooter';\n\nimport local_data from './data.js';\nimport './index.css';\n\n\nfunction App() {  \n  const [mainData, setMainData] = React.useState(local_data);\n  const inputRef = React.useRef(null);\n  const playerRef = React.useRef(null);\n\n  const [isPlaying, setIsPlaying] = React.useState(true);\n  const defaultVolume = 15\n  const [volume, setVolume] = React.useState(defaultVolume);\n  const [currentTime, setCurrentTime] = React.useState(0);\n  const [duration, setDuration] = React.useState(0);\n\n  React.useEffect(() => {\n      fetch('http://localhost:8000')\n          .then(response => {\n              if (!response.ok) {\n                  throw new Error('Network response was not ok');\n              }\n              return response.json();\n          })\n          .then(data => {\n              setMainData(data);\n          })\n          .catch(error => {\n              console.error('There was a problem with the fetch operation:', error);\n          });\n  }, []);\n\n  React.useEffect(() => {\n      const handleClick = () => {\n          if (inputRef.current) {\n              inputRef.current.focus();\n          }\n      };\n      \n      document.addEventListener('click', handleClick);\n\n      return () => {\n          document.removeEventListener('click', handleClick);\n      };\n  }, []);\n\n  function handleClick(id) {\n      setMainData(prevmainData => {\n          return prevmainData.map((Record) => {\n              return Record.id === id ? {...Record, isPlayed: true} : {...Record, isPlayed: false};\n          });\n      });\n  }\n\n  function handleSearchChange(searchString) {\n      setMainData(prevmainData => {\n          if (!searchString) {\n              return prevmainData.slice().sort((a, b) => a.id - b.id);\n          } else {\n              return prevmainData.slice().sort((a, b) => {\n                  const aIncludes = a.artist.toLowerCase().includes(searchString.toLowerCase());\n                  const bIncludes = b.artist.toLowerCase().includes(searchString.toLowerCase());\n\n                  if (aIncludes && !bIncludes) return -1;\n                  if (!aIncludes && bIncludes) return 1;\n                  return 0;\n              });\n          }\n      });\n  }\n\n  const onPlay = () => {\n      if (playerRef.current) {\n          playerRef.current.playVideo();\n          setIsPlaying(true);\n      }\n  };\n\n  const onPause = () => {\n      if (playerRef.current) {\n          playerRef.current.pauseVideo();\n          setIsPlaying(false);\n      }\n  };\n\n  const handleVolumeChange = (value) => {\n      if (playerRef.current) {\n          playerRef.current.setVolume(value);\n          setVolume(value);\n      }\n  };\n\n  const handleSeek = (time) => {\n      if (playerRef.current) {\n          playerRef.current.seekTo(time);\n      }\n  };\n\n  return (\n    <div>\n        <Navbar\n            onPlay={onPlay}\n            onPause={onPause}\n            onVolumeChange={handleVolumeChange}\n            isPlaying={isPlaying}\n            volume={volume}\n            currentTime={currentTime}\n            duration={duration}\n            onSeek={handleSeek}\n        />\n        <Shelf\n            mainData={mainData}\n            handleClick={handleClick}\n        />\n        <Filter \n            onSearchChange={handleSearchChange}\n            inputRef={inputRef} \n        />\n        <Player \n            mainData={mainData}\n            onPlayerReadyRef={playerRef}\n            setVolume={setVolume}\n            setIsPlaying={setIsPlaying}\n            setCurrentTime={setCurrentTime}\n            setDuration={setDuration}\n        />\n        <Jukebox mainData={mainData}/>\n        <SocialFooter />\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}